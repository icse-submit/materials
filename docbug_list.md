# Documentation Bug



## Category

We calssify the documentation bugs into three categories:

- **Inconsistency**: signature-description mismatch (e.g., the description refers to a parameter that is not specified in the API signature);
- **Format issue**:  (e.g., indentation issue); 
- **Unclear  constraint  dependency**: as discussed in paper Section II-D, some properties of one parameter depend on those of a missing parameter). 



## Summary

We found **37** documentation bug within **51** API documents. The **number of bug (number of API)** we detected for each library and each category is listed below.

|                    | TensorFlow | PyTorch | MXNet  | Total  |
| ------------------ | ---------- | ------- | ------ | ------ |
| Inconsistency      | 5(9)       | 9(10)   | 11(20) | 25(39) |
| Format             | 1(1)       | 6(6)    | 2(2)   | 9(9)   |
| Unclear Dependency | 3(3)       | 0(0)    | 0(0)   | 3(3)   |
| Total              | 9(13)      | 15(16)  | 13(22) | 37(51) |



Out of the 37 bugs that we have reported, 11 bugs have been fixed by the developer and 15 others are confirmed. The details are listed below.

|           | TF   | PyTorch | MXNet | Total |
| --------- | ---- | ------- | ----- | ----- |
| Confirmed | 1    | 6       | 8     | 15    |
| Fixed     | 6    | 4       | 1     | 11    |



## Bug List



The same bug within multiple APIs are labled with the same `BugID` in the following table. 

| BugID | API                                                                                                                                                                                                         | Related Parameter                                                                   | Category           | Resolution    |
|-------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------|--------------------|-----------|
| 1     | [tf.hessians](https://www.tensorflow.org/api_docs/python/tf/hessians)                                                                                                                                       | colocate_gradients_with_ops                                                         | Inconsistency      | Fixed     |
| 2     | [tf.nn.swish](https://www.tensorflow.org/api_docs/python/tf/nn/swish)                                                                                                                                       | name                                                                                | Inconsistency      | Confirmed |
| 3     | [tf.signal.irfft](https://www.tensorflow.org/api_docs/python/tf/signal/irfft)                                                                                                                               | input                                                                               | Inconsistency      | Reported  |
| 3     | [tf.signal.irfft2d](https://www.tensorflow.org/api_docs/python/tf/signal/irfft2d)                                                                                                                           | input                                                                               | Inconsistency      | Reported  |
| 3     | [tf.signal.irfft3d](https://www.tensorflow.org/api_docs/python/tf/signal/irfft3d)                                                                                                                           | input                                                                               | Inconsistency      | Reported  |
| 4     | [tf.signal.rfft](https://www.tensorflow.org/api_docs/python/tf/signal/rfft)                                                                                                                                 | input                                                                               | Inconsistency      | Reported  |
| 4     | [tf.signal.rfft2d](https://www.tensorflow.org/api_docs/python/tf/signal/rfft2d)                                                                                                                             | input                                                                               | Inconsistency      | Reported  |
| 4     | [tf.signal.rfft3d](https://www.tensorflow.org/api_docs/python/tf/signal/rfft3d)                                                                                                                             | input                                                                               | Inconsistency      | Reported  |
| 5     | [tf.keras.activations.deserialize](https://www.tensorflow.org/api_docs/python/tf/keras/activations/deserialize)                                                                                             | x                                                                                   | Inconsistency      | Fixed     |
| 6     | [tf.ragged.constant](https://www.tensorflow.org/api_docs/python/tf/ragged/constant)                                                                                                                         | ragged_rank                                                                         | Format             | Fixed     |
| 7     | [tf.keras.backend.moving_average_update](https://www.tensorflow.org/api_docs/python/tf/keras/backend/moving_average_update)                                                                                 | value                                                                               | Unclear Dependency | Fixed     |
| 8     | [tf.nn.conv1d_transpose](https://www.tensorflow.org/api_docs/python/tf/nn/conv1d_transpose)                                                                                                                 | filters                                                                             | Unclear Dependency | Fixed     |
| 9     | [tf.nn.conv3d_transpose](https://www.tensorflow.org/api_docs/python/tf/nn/conv3d_transpose)                                                                                                                 | filters                                                                             | Unclear Dependency | Fixed     |
| 10    | [torch.cuda.set_rng_state_all](https://pytorch.org/docs/stable/cuda.html#torch.cuda.set_rng_state_all)                                                                                                      | new_state                                                                           | Inconsistency      | Fixed     |
| 11    | [torch.distributed.all_reduce_multigpu](https://pytorch.org/docs/stable/distributed.html#torch.distributed.all_reduce_multigpu)                                                                             | list                                                                                | Inconsistency      | Confirmed |
| 12    | [torch.jit.trace_module](https://pytorch.org/docs/stable/generated/torch.jit.trace_module.html#torch.jit.trace_module)                                                                                      | example_inputs                                                                      | Inconsistency      | Fixed     |
| 13    | [torch.nn.functional.embedding_bag](https://pytorch.org/docs/stable/nn.functional.html#torch.nn.functional.embedding_bag)                                                                                   | last element is the size of the input, or the ending index position of the last bag | Format             | Reported  |
| 14    | [torch.nn.init.kaiming_uniform_](https://pytorch.org/docs/stable/nn.init.html#torch.nn.init.kaiming_uniform_)                                                                                               | with 'leaky_relu')                                                                  | Format             | Fixed     |
| 15    | [torch.nn.init.kaiming_normal_](https://pytorch.org/docs/stable/nn.init.html#torch.nn.init.kaiming_normal_)                                                                                                 | with 'leaky_relu')                                                                  | Format             | Fixed     |
| 16    | [torch.quantization.quantize_dynamic](https://pytorch.org/docs/stable/quantization.html#torch.quantization.quantize_dynamic)                                                                                | module                                                                              | Inconsistency      | Reported  |
| 17    | [torch.quantization.add_quant_dequant](https://pytorch.org/docs/stable/quantization.html#torch.quantization.add_quant_dequant)                                                                              | we want to quantize                                                                 | Format             | Confirmed |
| 18    | [torch.empty](https://pytorch.org/docs/stable/generated/torch.empty.html#torch.empty)                                                                                                                       | memory_format                                                                       | Inconsistency      | Reported  |
| 19    | [torch.take](https://pytorch.org/docs/stable/generated/torch.take.html#torch.take)                                                                                                                          | indices                                                                             | Inconsistency      | Confirmed |
| 20    | [torch.poisson](https://pytorch.org/docs/stable/generated/torch.poisson.html#torch.poisson)                                                                                                                 | input                                                                               | Format             | Confirmed |
| 21    | [torch.add](https://pytorch.org/docs/stable/generated/torch.add.html#torch.add)                                                                                                                             | value                                                                               | Inconsistency      | Fixed     |
| 22    | [torch.clamp](https://pytorch.org/docs/stable/generated/torch.clamp.html#torch.clamp)                                                                                                                       | value                                                                               | Inconsistency      | Confirmed |
| 22    | [torch.clamp](https://pytorch.org/docs/stable/generated/torch.clamp.html#torch.clamp)                                                                                                                       | value                                                                               | Inconsistency      | Confirmed |
| 23    | [torch.mul](https://pytorch.org/docs/stable/generated/torch.mul.html#torch.mul)                                                                                                                             | {input}                                                                             | Format             | Fixed     |
| 24    | [torch.lu_solve](https://pytorch.org/docs/stable/generated/torch.lu_solve.html#torch.lu_solve)                                                                                                              | b                                                                                   | Inconsistency      | Reported  |
| 25    | [mxnet.util.use_np](https://mxnet.apache.org/versions/1.6/api/python/docs/api/mxnet/util/index.html#mxnet.util.use_np)                                                                                      | and NumPy-array semantics.                                                          | Format             | Confirmed |
| 26    | [mxnet.test_utils.check_numeric_gradient](https://mxnet.apache.org/versions/1.6/api/python/docs/api/mxnet/test_utils/index.html#mxnet.test_utils.check_numeric_gradient)                                    | check_eps                                                                           | Inconsistency      | Confirmed |
| 27    | [mxnet.contrib.ndarray.dgl_csr_neighbor_non_uniform_sample](https://mxnet.apache.org/versions/1.6/api/python/docs/api/contrib/ndarray/index.html#mxnet.contrib.ndarray.dgl_csr_neighbor_non_uniform_sample) | seed_arrays                                                                         | Inconsistency      | Reported  |
| 27    | [mxnet.contrib.symbol.dgl_csr_neighbor_non_uniform_sample](https://mxnet.apache.org/versions/1.6/api/python/docs/api/contrib/symbol/index.html#mxnet.contrib.symbol.dgl_csr_neighbor_non_uniform_sample)    | seed_arrays                                                                         | Inconsistency      | Reported  |
| 27    | [mxnet.ndarray.contrib.dgl_csr_neighbor_non_uniform_sample](https://mxnet.apache.org/versions/1.6/api/python/docs/api/ndarray/contrib/index.html#mxnet.ndarray.contrib.dgl_csr_neighbor_non_uniform_sample) | seed_arrays                                                                         | Inconsistency      | Reported  |
| 27    | [mxnet.symbol.contrib.dgl_csr_neighbor_non_uniform_sample](https://mxnet.apache.org/versions/1.6/api/python/docs/api/symbol/contrib/index.html#mxnet.symbol.contrib.dgl_csr_neighbor_non_uniform_sample)    | seed_arrays                                                                         | Inconsistency      | Reported  |
| 28    | [mxnet.contrib.symbol.dgl_csr_neighbor_uniform_sample](https://mxnet.apache.org/versions/1.6/api/python/docs/api/contrib/symbol/index.html#mxnet.contrib.symbol.dgl_csr_neighbor_uniform_sample)            | seed_arrays                                                                         | Inconsistency      | Reported  |
| 28    | [mxnet.contrib.ndarray.dgl_csr_neighbor_uniform_sample](https://mxnet.apache.org/versions/1.6/api/python/docs/api/contrib/ndarray/index.html#mxnet.contrib.ndarray.dgl_csr_neighbor_uniform_sample)         | seed_arrays                                                                         | Inconsistency      | Reported  |
| 28    | [mxnet.ndarray.contrib.dgl_csr_neighbor_uniform_sample](https://mxnet.apache.org/versions/1.6/api/python/docs/api/ndarray/contrib/index.html#mxnet.ndarray.contrib.dgl_csr_neighbor_uniform_sample)         | seed_arrays                                                                         | Inconsistency      | Reported  |
| 28    | [mxnet.symbol.contrib.dgl_csr_neighbor_uniform_sample](https://mxnet.apache.org/versions/1.6/api/python/docs/api/symbol/contrib/index.html#mxnet.symbol.contrib.dgl_csr_neighbor_uniform_sample)            | seed_arrays                                                                         | Inconsistency      | Reported  |
| 29    | [mxnet.symbol.linspace](https://mxnet.apache.org/versions/1.6/api/python/docs/api/symbol/symbol.html#mxnet.symbol.linspace)                                                                                 | ctx                                                                                 | Inconsistency      | Confirmed |
| 30    | [mxnet.contrib.ndarray.dgl_subgraph](https://mxnet.apache.org/versions/1.6/api/python/docs/api/contrib/ndarray/index.html#mxnet.contrib.ndarray.dgl_subgraph)                                               | graph                                                                               | Inconsistency      | Reported  |
| 30    | [mxnet.contrib.symbol.dgl_subgraph](https://mxnet.apache.org/versions/1.6/api/python/docs/api/contrib/symbol/index.html#mxnet.contrib.symbol.dgl_subgraph)                                                  | graph                                                                               | Inconsistency      | Reported  |
| 30    | [mxnet.ndarray.contrib.dgl_subgraph](https://mxnet.apache.org/versions/1.6/api/python/docs/api/ndarray/contrib/index.html#mxnet.ndarray.contrib.dgl_subgraph)                                               | graph                                                                               | Inconsistency      | Reported  |
| 30    | [mxnet.symbol.contrib.dgl_subgraph](https://mxnet.apache.org/versions/1.6/api/python/docs/api/symbol/contrib/index.html#mxnet.symbol.contrib.dgl_subgraph)                                                  | graph                                                                               | Inconsistency      | Reported  |
| 31    | [mxnet.ndarray.contrib.isinf](https://mxnet.apache.org/versions/1.6/api/python/docs/api/ndarray/contrib/index.html#mxnet.ndarray.contrib.isinf)                                                             | input                                                                               | Inconsistency      | Confirmed |
| 32    | [mxnet.ndarray.contrib.isfinite](https://mxnet.apache.org/versions/1.6/api/python/docs/api/ndarray/contrib/index.html#mxnet.ndarray.contrib.isfinite)                                                       | input                                                                               | Inconsistency      | Confirmed |
| 33    | [mxnet.ndarray.contrib.isnan](https://mxnet.apache.org/versions/1.6/api/python/docs/api/ndarray/contrib/index.html#mxnet.ndarray.contrib.isnan)                                                             | input                                                                               | Inconsistency      | Confirmed |
| 34    | [mxnet.ndarray.contrib.foreach](https://mxnet.apache.org/versions/1.6/api/python/docs/api/ndarray/contrib/index.html#mxnet.ndarray.contrib.foreach)                                                         | name                                                                                | Inconsistency      | Confirmed |
| 35    | [mxnet.test_utils.assert_almost_equal_with_err](https://mxnet.apache.org/versions/1.6/api/python/docs/api/mxnet/test_utils/index.html#mxnet.test_utils.assert_almost_equal_with_err)                        | threshold                                                                           | Inconsistency      | Confirmed |
| 36    | [mxnet.test_utils.check_consistency](https://mxnet.apache.org/versions/1.6/api/python/docs/api/mxnet/test_utils/index.html#mxnet.test_utils.check_consistency)                                              | use_unifrom                                                                         | Inconsistency      | Fixed     |
| 37    | [mxnet.contrib.quantization.quantize_model_mkldnn](https://mxnet.apache.org/versions/1.6/api/python/docs/api/contrib/quantization/index.html#mxnet.contrib.quantization.quantize_model_mkldnn)              | with quantize_model                                                                 | Format             | Reported  |
